% !TEX root = ../main.tex

\chapter{Preliminaries}

In this chapter, we will recommend the prelimiaries about $\infty-$categories, stable $\infty-$categories and six functor theories. Readers who are already familiar with them can skip this chapter and refer to \ref{chap:symbol} for notations.

\section{Foundations of $\infty$-categories}
The motivation of $\infty$-categories is to consturct a language where we can talk about higher morphisms. A naive approach towards this is enriched category. However, the coherence data soon become too complicated to describe as the level increases. So we will construct some models to describe $\infty$-categories.

It should be noted what we call $\infty$- categories here are in fact $(\infty,1)$-categories, which means all n-morphisms ($n \geq 2$) are invertible.

Readers are assumed to have been familiar with the knowledge of simplicial sets and model categories.

\subsection{Models of $\infty$-categories}
When we say a ``model" for $\infty$- categories, we mean a model category, whose objects(up to weak equivalence) are $\infty$- categories and the weak equivalence between two objects represents equivalence between two $\infty$- categories. These models are ``equivalent", namely Quillen equivalent.

In short, 


    \textbf{The theory of $(\infty,1)$-categories lies in the homotopy category of a model category which ``models" the $\infty$-categories.} \label{homocat} \hfill (2.1)



 Although for practical reasons we have to construct those definitions and propositions in a specific category, they should be invariant under weak equivalences.

In this subsection, we will introduce two models of $\infty$-categories, which are quasi-categories and simplicially enriched categories.

\begin{definition}(Boardman-Vogt, 1973)
    A simplical set X is called a quasi-category if it satisfies the right lifting property aganist inner horn inclusions:
\[
\begin{tikzcd}
\Lambda^n_k \arrow[r] \arrow[d, hook] & X \arrow[d] \\
\Delta^n \arrow[r] \arrow[ur, dashed, "\exists h" description] & \ast
\end{tikzcd}
\qquad (0 < k < n)
\] 
\end{definition}

Take $\Lambda^n_k= \Lambda^2_1$, then the lifting property provides a lifting $h:\Delta^2\to X$. If we denote $f$ as the image of $\{0\to1\}$ in $X$, $g$ as the image of $\{1\to2\}$ in $X$, then we can view $h$ as the ``homotopy" witnessing the composition of $f$ and $g$.

A question arising here is that the ``homotopy" $h$ witnessing the composition is not unique. However, if we understand the ``uniqueness" following the philosophy in \ref{homocat}, it is ``unique", or precisely, $\text{Fun}(\Delta^2,C)\times_{\text{Fun}(\Lambda^2_1,C)}(g,\bullet,f)$ is contractible (\ref{composition_contractible_kan}).



\begin{remark}
    We denote the full subcategory of $\text{Set}_\Delta$ generated by quasi-categories as $\text{QCat}$.
\end{remark}


\begin{definition}
    We define $\text{Cat}_{\Delta}$ as the category of $\text{Set}_{\Delta}$-enriched categories, whose morphisms are given by enriched functors. We also define $\text{Cat}_{Kan}$ as the full subcategory of $\text{Cat}_{\Delta}$ generated by those Kan complex-enriched(which we will introduce in \ref{kan-complex}) categories.
\end{definition}


We will then show two model categories which model the $\infty$-categories, or more precisely, whose fibrant full subcatgoreis model the $\infty-$categories.


\begin{theorem}(Joyal, 2008)
    There exists a model structure called Joyal model structure on $\text{Set}_\Delta$ where fibrant objects are exactly quasi-categories.
\end{theorem}

\begin{theorem}(Bergner, 2004)
    There exists a model structure called Bergner model structure on $\text{Cat}_\Delta$, whose fibrant objects are exactly Kan complex-enriched categories.
    
\end{theorem}

Joyal and Tierney pointed out that these two model categories are Quillen equivalent, thus whose fibrant subcategoreis are also Quillen equivalent.

\begin{theorem}(Joyal \& Tierney, 2007)
    There exists a Quillen equivalence:

    $\mathfrak{C}:\text{Set}_\Delta^{Joyal} \rightleftarrows \text{Cat}_\Delta:\mathfrak{N}$.
\end{theorem}

\begin{corollary}
    $\text{QCat}$ and $\text{Cat}_{Kan}$ are Quillen equivalent .
\end{corollary}

\subsection{Mappsing Spaces}\label{mapping_space}

The idea of $\infty$-categories is that for any two objects in the category, there exists a ``mapping space" between such that the ``mapping space" is an $(\infty,0)$-category (Just as the case in $\mathcal{CG}$-enriched categories). That gives rise to the concept of Kan complexes where every morphism is ``invertible".

We still define the mapping space as the fibrant object in a homotoy category of a model category which we call as ``Kan-Quillen" model category. This model category is Quillen equivalent to $\text{Top}$, whose fibrant objects are CW complexes, that is, ``good spaces".





\begin{definition}\label{kan-complex}
    A simplical set X is called a Kan complex if it satisfies the right lifting property against horn inclusions:
\[
\begin{tikzcd}
\Lambda^n_k \arrow[r] \arrow[d, hook] & X \arrow[d] \\
\Delta^n \arrow[r] \arrow[ur, dashed, "\exists h" description] & \ast
\end{tikzcd}
\qquad(0 \leq k \leq n)
\]
\end{definition}

We make it clear why we say ``any morphism in Kan complex is invertible" here.

\begin{remark}
    Let $C$ be a quasi-category, the expression $x\in C$ means $x$ is a 0-simplex in $C$ (We also call $x$ as a 0-morphism); the expression $f:x\to y$ means $f$ is a 1-simplex in $C$ satisfying $d_0f=x,d_1f=y$ (We also call $f$ as a 1-morphism).
\end{remark}

\begin{theorem}(\textcite{ker}, 1.4.3.6)
    Let $C$ be a quasi-category, $x,y \in C, f,g:x\to y$, The following are equivalent:

    \begin{enumerate}
    \item There exists a 2-simplex $\sigma$ satisfying $d_o\sigma=id_y,d_1\sigma=g,d_2\sigma=f$,i.e.
\[
\begin{tikzcd}
& y \arrow[dr, "\text{id}_y"] & \\
x \arrow[ur, "f"] \arrow[rr, "g"'] & & y
\end{tikzcd}
\]
    
    \item There exists a 2-simplex $\sigma$ satisfying $d_o\sigma=f,d_1\sigma=g,d_2\sigma=id_x$,i.e.
\[
\begin{tikzcd}
& x \arrow[dr, "f"] & \\
x \arrow[ur, "\text{id}_x"] \arrow[rr, "g"'] & & y
\end{tikzcd}
\]
\end{enumerate}
\end{theorem}

\begin{remark}
    
Obviously the condition is a equivalence ralationship, we will say f is homotopic to g if one holds.

\end{remark}

\begin{definition}
    Let $C$ be an quasi-category, The homotopy category $\textsf{h}C$ of $C$ is defined as the ordinary category as below:

$\text{Ob}(\textsf{h}C)=\text{Ob}(C)$;

$\text{Hom}_{\textsf{h}C}(x,y)=\text{Hom}_C(x,y)/\sim$, where $\sim$ is defined by homotopy;

For $f:x\to y,g:y\to z \in \textsf{h}C$, the composition $g\circ f$ is defined as $d_1(h)$, where $h$ is a 2-morphism witenessing the composition of $f$ and $g$. This is well-defined because $\text{Fun}(\Delta^2,C)\times_{\text{Fun}(\Lambda^2_1,C)}(g,\bullet,f)$ is contractible.
    
\end{definition}

\begin{remark}
    Let $f:x\to y\in C$, we will call $f$ an isomorphism if the image $[f]$ of $f$ in $\textsf{h}C$ is an isomorphism.
\end{remark}

\begin{theorem}(\textcite{Joyal})
    A quasi-category $C$ is a Kan complex if and only if all morphisms in $C$ are isomorphisms.
\end{theorem}

Before formally giving the consturction of mapping space, we have to clairify the third model category whose fibrant objects are exactly Kan complexes. The following results are classic in algebraic topology.

\begin{theorem}
    There exists a model structure called Kan-Quillen model structure on $\text{Set}_\Delta$ where fibrant objects are Kan complexes. We call the weak equivalences in Kan-Quillen model as ``weak homotopy equivalences".
\end{theorem}

\begin{theorem}
    There exists a Quillen equivalence:

    $|\cdot|:\text{Set}_\Delta^{Kan-Quillen} \rightleftarrows \text{Top}:\text{Sing}$.
\end{theorem}

\begin{corollary}
    $\text{Kan}$ and $\text{CW}$ are Quillen equivalent.
\end{corollary}

It is well-known that CW complexes are ``good spaces", that is, whose ``mapping space" between two CW complexes itself is still a CW complex.



We will then formally give the consturction of mapping spaces.

\begin{definition}
    Let $X$ be a simplicial set, $X^{\lhd}:= \Delta^0 \star X;$ $ X^{\rhd}:= X \star \Delta^0$, where $\star$ represents join in simplicial set.
\end{definition}

\begin{definition}
    Let $X$ be a simplicial set, $x\in X$, the slice simplicial set $X_{/x}$ of $X$ over $x$ is defined by:

    $Hom(Y,X_{/x}):= Hom(Y^{\rhd},X)\underset{Hom(\Delta^0,X)}{\times}\{x\}$;

    the coslice simplicial set $X_{x/}$ of $X$ under $x$ is defined by:
    
    $Hom(Y,X_{x/}):= Hom(Y^{\lhd},X)\underset{Hom(\Delta^0,X)}{\times}\{x\}$;
\end{definition}

\begin{definition}
    Let $C$ be a quasi-category, $x,y\in C$. We will define:
    
    The left pinched complex $\text{Hom}_C^L(x,y):=C_{x/}\underset{C}{\times} \{y\}$;

    The right pinched complex $\text{Hom}_C^R(x,y):=\{x\}\underset{C}{\times} C_{/y}$;

    The balanced complex $\text{Hom}_C^B(x,y):=\{x\}\underset{\text{Fun}(\{0\},C)}{\times}\text{Fun}(\Delta^1,C))\underset{\text{Fun}(\{1\},C)}{\times}\{y\}$. 
\end{definition}

\begin{theorem}(\textcite{ker}, 4.6.5.5)\label{kan}
    $\text{Hom}_C^L(x,y)$, $\text{Hom}_C^R(x,y)$, and $\text{Hom}_C^B(x,y)$ are Kan complexes which are weak homotopy equivalent. 
\end{theorem}

As a result, we can well-defined the mapping space as a kan complex up to weak equivalence (in the sense of Kan-Quillen model structure).

\begin{definition}
    Let $C$ be a quasi-category, $x,y \in C$, we can define the mapping space $\text{Maps}(x,y)$ from $x$ to $y$ as the object in $\text{Set}_\Delta[W^{-1}]$ defined by \ref{kan}.
\end{definition}

In fact, $\text{Maps}$ can be extended to an $(\infty,1)-$functor $C^{op}\times C\to \mathscr{S}$, which we will show in \ref{maps}.

Based on this observation, we can illustrate the idea that mapping spaces are well-defined up to weak equivalance (following the philosophy in \ref{homocat}) by stating a stronger theorem in \ref{02GL}.


At the end of this subsection, we will make it clear what we mean by ``contractible".

\begin{definition}
    A Kan complex X is called contractible if it satisfies the right lifting property aganist boundary inclusions:
\[
\begin{tikzcd}
\partial \Delta^n \arrow[r] \arrow[d, hook] & X \arrow[d] \\
\Delta^n \arrow[r] \arrow[ur, dashed, "\exists h" description] & \ast
\end{tikzcd}
\] 
\end{definition}

\begin{theorem}(\textcite{ker}, 1.5.6.2)\label{composition_contractible_kan}
    Let $C$ be a quasi-category, $x,y,z\in C,f:x\to y,g: y\to z$, then $\text{Fun}(\Delta^2,C)\underset{\text{Fun}(\Lambda_1^2,C)}{\times}\{(g,\cdot,f)\}$ is a contractible Kan complex.
    
\end{theorem}

\subsection{Functors of $\infty$-categories}

Funtors between two quasi-categories are just morphisms in $\text{Set}_\Delta$. Two types of weak equivalences provide two types of ``equivalences". We'll show their meaning in the $(\infty,1)$-category of $(\infty,1)$-categories.



\begin{definition}
    Let $C,D$ be two quasi-categories, we will call the morphism $F:C\to D$ in $\text{Set}_\Delta$ as the functor from $C$ to $D$.
\end{definition}

\begin{proposition}
    $\text{Set}_\Delta$ admits a Catesian closed structure. With a little abuse of the notation, we will denote the corresponding internal hom $[X,Y]$ as $\text{Fun}(X,Y)\in \text{Set}_\Delta$. 
\end{proposition}

By Yoneda lemma clearly the 0-morphisms in $\text{Fun}(X,Y)$ are exactly the functors from $X$ to $Y$. We call this category the $(\infty,1)-$functor categories from $X$ to $Y$.

\begin{corollary}\label{nat_composition}
    Let $X,Y,Z$ be three simplicial sets, then there exists a natural composition $\text{Fun}(X,Y)\times \text{Fun}(Y,Z)\to \text{Fun}(X,Z)$.
\end{corollary}

\begin{theorem}(\textcite{lc}, 5.4.5)
    Let $C,D$ be two quasi-categories, $F:C\to D$ be a functor from $C$ to $D$. Then the following are equivalenct:

    1. $F$ is a weak equivalence in $\text{Set}_\Delta^{Joyal}$;

    2. For any quasi-category $D$, the induced morphism $\text{Fun}(D,E)\to \text{Fun}(C,E)$ is a weak equivalence in $\text{Set}_\Delta^{Joyal}$.

    We will call this weak equivalence as ``homotopy equivalence" or ``equivalence".
\end{theorem}

Following the philosophy in $\ref{homocat}$, this is the right ``isomorphism" in the $\infty-$cateogry of $\infty-$categories, that is, $\text{Cat}_\infty$.

\begin{lemma}(\textcite{ker}, 1.5.3.7)
    Let $X\in \text{Set}_\Delta,Y\in \text{QCat}$, then $\text{Fun}(X,Y)\in \text{QCat}$. 
\end{lemma}

\begin{lemma}(\textcite{ker}, 1.3.5.4)
    Let $X\in \text{QCat}$, then there exists a maximal Kan complex contained in $X$, which we denote as $X^\simeq$, or the core of $X$.
\end{lemma}

\begin{definition}
    Let $\vmathbb{QCat}$ be a $\text{Set}_\Delta-$enriched category which is defined as:
    
    Objects are all quasi-categories;

    $\text{Hom}(X,Y):=\text{Fun}(X,Y)^\simeq$;

    The composition map is given by $\ref{nat_composition}$.
\end{definition}

\begin{definition}
    We define the $(\infty,1)-$category of $(\infty,1)-$categories as $\mathfrak{N}(\vmathbb{QCat})$, which we denote as $\text{Cat}_\infty$.
\end{definition}

Similarily we have:

\begin{definition}
     Let $\vmathbb{Kan}$ be a $\text{Set}_\Delta-$enriched category which is defined as:
    
    Objects are all Kan complexes;

    $\text{Hom}(X,Y):=\text{Fun}(X,Y)^\simeq$;

    The composition map is given by $\ref{nat_composition}$.   
\end{definition}

\begin{definition}
    We define the $(\infty,1)-$category of $\infty-$groupoids as $\mathfrak{N}(\vmathbb{Kan})$, which we denote as $\text{Grpd}_\infty$ or $\mathscr{S}$.
\end{definition}

\begin{proposition}(\textcite{lc}, 5.7.6)
    The homotopy category $\textsf{h}\text{Cat}_\infty$ is equivalent to the ordinary category $\textsf{h}\vmathcal{QCat}$ defined as:

    $\text{Ob}(\textsf{h}\vmathcal{QCat}):= $ all small quasi-categories;

    $\text{Hom}_{\textsf{h}\vmathcal{QCat}}(C,D):=\pi_0(\text{Fun}(C,D)^\simeq)$;

    $[G]\circ[F]=[G\circ F]$.
\end{proposition}

\begin{theorem}(\textcite{lc}, 5.4.1)
    Let $C,D$ be two quasi-categories, $F:C\to D$, $F$ is a homotopy equivalence iff $[F]$ is an isomorphism in $\textsf{h}\vmathcal{QCat}$.
\end{theorem}

This explains the reasonibility of ``homotopy equivalence".




\section{Consturctions of $\infty$-categories}

\subsection{Fibrations of $\infty$-categories}
In ordinary category, we were already familiar with Grothendieck construction with respect to a kind of fibration. These things still have their correspondence in $\infty$-categories.

The relationship of those kinds of fibrations can be represented by the diagram below\cite{htt}.
\[
\begin{tikzcd}[row sep=large, column sep=large]
& \text{trivial fibration} \arrow[d] \\
& \text{Kan fibration} \arrow[dl] \arrow[dr] \\
\text{left fibration} \arrow[d] & & \text{right fibration} \arrow[d] \\
\text{coCartesian fibration} \arrow[dr] & & \text{Cartesian fibration} \arrow[dl] \\
& \text{categorical fibration} \arrow[d] \\
& \text{inner fibration}
\end{tikzcd}
\]

While the Grothendieck-Lurie construction\cite{htt} give the equivalence of $(\infty,1)-$categories:
\[
\begin{tabular}{c|c}

\textbf{The $\infty-$category of Fibrations} & \textbf{The $\infty$-category of Functors} \\

\hline

\text{LFib}_{/S} & \text{Fun}(S, \text{Grpd}_\infty) \\

\text{RFib}_{/S} & \text{Fun}(S^{\mathrm{op}}, \text{Grpd}_\infty) \\

\text{coCart}_{/S} & \text{Fun}(S, \text{Cat}_\infty) \\

\text{Cart}_{/S} & \text{Fun}(S^{\mathrm{op}}, \text{Cat}_\infty) \\

\end{tabular}
\]

In this subsection we will not illustrate everything in these two pictures. Instead, we only define left fibration and present the related Grothendieck-Luire construction to give a ``genuine" definition of $\text{Maps}$.


\begin{definition}
    Let $C,D$ be two quasi-cateogries, $p:C\to D$ is a functor, we say $p$ is an inner fibration if it satisfies the right lifting property against against inner horn inclustions:

\[
\begin{tikzcd}
\Lambda^n_k \arrow[r] \arrow[d, hook] & C \arrow[d] \\
\Delta^n \arrow[r] \arrow[ur, dashed, "\exists h" description] & D
\end{tikzcd}
\qquad(0 < k < n)
\]
\end{definition}

\begin{definition}
    Let $C,D$ be two $(\infty,1)-$categories, $p:C\to D$ be an inner fibration\footnote{As the word ``fibration" implies, inner fibration is stable under pullback, thus given $x\in C$ the fiber $C_{p(x)}$ is a quasi-category. In a model-independent theory this condition is not required.}. We say $p$ is a left fibration if it satisfies the right lifting property:

   \[
\begin{tikzcd}
\Lambda^n_k \arrow[r] \arrow[d, hook] & C \arrow[d] \\
\Delta^n \arrow[r] \arrow[ur, dashed, "\exists h" description] & D
\end{tikzcd}
\qquad (0\leq k < n)
\] 
\end{definition}


\begin{definition}
    Let $S$ be an $(\infty,1)-$category, we define the $(\infty,1)-$category $\text{LFib}_{/S}$ as the full subcategory of $\text{Cat}_\infty$ generated by those left fibrations.
\end{definition}

\begin{theorem}(\textcite{htt} 3.2.0.1)\label{3201}
    Given an $(\infty,1)$-category $S$, there exists an equivalence of $(\infty,1)$-categories:

    $\text{LFib}_{/S}\rightleftarrows\text{Fun}(S,\text{Grpd}_\infty)$.
\end{theorem}

Finally we can extend the definiton of $\text{Maps}$.

\begin{definition}
    Let $C$ be an $(\infty,1)-$category, we define the $(\infty,1)-$category of twisted arrow category $\text{TwArr}(C):=\text{Hom}_{\text{Set}_\Delta}(\text{N}_\bullet((-)^{op}\star(-)),C)$.
\end{definition}

\begin{proposition}(\textcite{ker}, 8.1.1.15)
    The projection $\text{TwArr}(C)\to C^{op}\times C$ induced by $[n]^{op}\to [n]^{op}\star [n]\leftarrow [n]$ is a left fibration.
\end{proposition}

Consider The projection as an object in $\text{LFib}_{/S}$, we can formly give our definition of $\text{Maps}$

\begin{definition}\label{maps}
    We define the functor $\text{Maps}:C^{op}\times C\to\text{Grpd}_\infty$ as the correspondence of the projection $\text{TwArr}(C)\to C^{op}\times C$ via \ref{3201}.
\end{definition}

We'll use the following definition in \ref{monoidal}.

\begin{definition}
    Let $C,D$ be two $(\infty,1)-$categories, $p:C\to D$ be an inner fibration, $f:x\to y\in C$. We say $f$ is $p$-coCartesian   if it satisfies the right lifting property:

   \[
\begin{tikzcd}
\Lambda^n_0 \arrow[r,"\phi"] \arrow[d, hook] & C \arrow[d] \\
\Delta^n \arrow[r] \arrow[ur, dashed, "\exists h" description] & D
\end{tikzcd}

\\ $n \geq 2, \phi|_{\{0,1\}}= f.$
\] 
\end{definition}

\subsection{Limits and Colimits}

\begin{definition}
    Let $C$ be an $(\infty,1)-$category, $x\in C$, we say $x$ is initial if $\forall y\in C$, $\text{Maps}(x,y)$ is contractible;  $x$ is final if $\forall y\in C$, $\text{Maps}(y,x)$ is contractible.
\end{definition}

\begin{definition}
    Let $K$ be a simplicial set, $C$ be an $(\infty,1)$-category, $u: K \to C$. The slice category of $C$ over $u$ is defined by:

    $\text{Hom}(Y,C_{/u}):= \text{Hom}(Y\star K,C)\underset{\text{Hom}(K,C)}{\times}\{u\}$;

    The coslice category of $C$ under $u$ is defined by:

    $\text{Hom}(Y,C_{u/}):= \text{Hom}(K\star Y,C)\underset{\text{Hom}(K,C)}{\times}\{u\}$.
    
\end{definition}




\begin{definition}
    Let $K$ be a simplicial set, $C$ be an $(\infty,1)$-category, $u: K \to C$. We say a diagram $\bar{u}:K^\triangleleft\to C$ is a limit diagram if it is a final object in $C_{/u}$; We say a diagram $\bar{u}:K^\triangleright\to C$ is a colimit diagram if it is an initial object in $C_{u/}$.

    We also say that $\bar{u} $ exhibits $\bar{u}(*)$ as a limit/colimit of $u$.
\end{definition}

\begin{definition}
    We say a limit diagram $\bar{u}:K^\triangleleft\to C$ is preserved by a functor $F:C\to C'$ if $F\circ \bar{u}:K^\triangleleft\to C'$ is a limit diagram; A colimit diagram $\bar{u}$ is preserved by $F$ if $F\circ\bar{u}$ is a colimit diagram.
\end{definition}

\begin{theorem}(\textcite{ker} 4.6.4.21)\label{02GL}
    Let $C,D$ be two $(\infty,1)-$categories, $F:C\to D$ be an equivalence, $u:K\to C$ be a diagram,  then the induced functor $C_{/u}\to C_{/F\circ u}$ is an equivalence.
\end{theorem}



\subsection{Adjoint functors}

The definition we give here is a slightly different from Lurie's classic one, which explicitly give the equivalence.

\begin{definition}
    Let $C,D$ be two $(\infty,1)$-categories, We say a pair of functors $F:C\rightleftarrows D:G$ is an adjunction pair if there exists an equivalence $\varphi:\text{Maps}(F(-),-)\to\text{Maps}(-,G(-))$ in $\text{Fun}(C^{op}\times D,\mathscr{S})$.

    We say that $F$ is a left adjoint functor which admits a right adjoint functor $G$, and vice versa.
\end{definition}

\begin{proposition}
    Let $F:C\rightleftarrows D:G$ be an adjunction pair, then $F$ preserves all small colimits while $G$ preserves all small limits.
\end{proposition}


\subsection{Presentable categories}

Roughly speaking, we will see a series of  correspondences between filtered version and normal version (just as the case in 1-category).

\begin{definition}
    Let $K$ be a simplicial set, $\kappa$ be a regular cardinal. We say $K$ is $\kappa$-small if $|S|<\kappa$, where $S$ is the set of nondegenerate simplexes in $K$.

    We say call a diagram $u:K\to C$ is $\kappa-$small if $K$ is $\kappa-$small.
\end{definition}

\begin{definition}
    Let $C$ be an $(\infty,1)-$category, we say $C$ is a $\kappa-$filtered category if any $\kappa$-small diagram $u:K\to C$ can be extended to $K^{\triangleright}\to C$.

    The corresponding limit/colimit diagram is called as $\kappa-$filtered limit/colimit diagram.
\end{definition}

\begin{definition}
    Let $C$ be an $(\infty,1)-$category, we define the presheaf category $\text{Psh}(C)$ of $C$ as $\text{Fun}(C^{op},\mathscr{S})$.

    We call the functor $h_C:C\to \text{PSh}(C)$, $X\mapsto \text{Maps}(-,X)$ as the ``Yoneda embedding".
\end{definition}

\begin{definition}
    Let $C$ be an $(\infty,1)$-category, we define the $\kappa$-ind category $\text{Ind}_\kappa(C)$ of $C$ as the full subcategory of $\text{PSh}(C)$ generated by theose objects which are small filtered colimits in $\text{PSh}(C)$ where $K\subset h_C(C)$.
\end{definition}

\begin{remark}
    Clearly $C\subset \text{Ind}_\kappa(C)$, thus we have another embedding functor from $C$ to $\text{Ind}_\kappa(C)$, which is denoted as $\iota$.
\end{remark}

We then show that Ind category is just the filtered version of presheaf category.


\begin{proposition}
    The Yoneda functor $h_C$ preserves small colimits while $\iota$ preserves $\kappa-$filtered small colimits.
\end{proposition}

Thus given a functor $F$ from $C$ to a cocomplete/$\kappa-$filtered cocomplete category $D$, it can be extended naturally to $\widetilde{F}:\text{PSh}(C)/\text{Ind}_\kappa(C)\to D$.

To be precise, that is:

\begin{theorem}
    There is an equivalence of category from $\text{LFun}(\text{PSh}(C),D)\simeq \text{Fun}(C,D)$, where $\text{LFun}(\text{PSh}(C),D)$ is the full subcategory of $\text{Fun}(\text{PSh}(C),D)$ generatied by those functors which preserve small colimits.
\end{theorem}

\begin{theorem}
    There is an equivalence of category from $\text{Fun}(\text{Ind}(C),D)_{\kappa-cont}\simeq \text{Fun}(C,D)$, where $\text{Fun}(\text{Ind}(C),D)_{\kappa-con}$ is the full subcategory of $\text{Fun}(\text{Ind}(C),D)$ generatied by those functors which preserve $\kappa$-small filtered colimits.
\end{theorem}

\begin{definition}
    Let $C$ be a $(\infty,1)-$category, $\kappa$ be a regular cardinal. We let $\operatorname{Ind}_\kappa(C)$ denote the full subcategory of $\text{Psh}(C)$ spanned by these functors $F:C^{op}\to \mathscr{S}$ which classifies all right Kan fibrations $f: \tilde{C}\to C$ where $\tilde{C} $ is $\kappa-$regular.
    
\end{definition}

\begin{definition}
    Let $C$ be a $(\infty,1)-$category, $\kappa$ be a regular cardinal. We way $C$ is $\kappa$-accesible if $\exists $ an essentially small $(\infty,1)-$ category $C_0$ such that

    $C\simeq \operatorname{Ind}_\kappa(C_0)$.

    We say $C$ is accessible if there exists a regular cardinal $\kappa$ such that $C$ is $\kappa-$accesible.

\end{definition}

\begin{definition}
    Let $C$ be a $(\infty,1)-$category. We way $C$ is locally presentable or presentable if $C$ satisfies:

    1. $C$ is accessible;

    2. $C$ admits all small colimits.
\end{definition}

There is an equivalent definition of presentbale categories, which may give a more intuitive understanding of the name.

\begin{definition}
    Let $C$ be an $\kappa-$accessible category, $D$ be a category. We say a functor $F:C\to D$ is $\kappa-$accessible if it presereves $\kappa-$filtered small colimits.

    We also say a functor $F$ is accessible if it is $\kappa-$accessible for some regular cardinal $\kappa$.
\end{definition}

\begin{theorem}
    An $(\infty,1)-$category $D$ is presentable iff there exsits an adjunction between $\text{PSh}(C)$ of an essentially small category $C$ and $D$:

    $F:\text{PSh}(C)\to D \dashv G:D\to\text{PSh}(C)$ such that

    $G$ is fully faithful and $G\circ F$ is an accessible functor.
\end{theorem}

\begin{example}
    Let $C$ be an $(\infty,1)$-category, then $\text{PSh}(C)$ is a presentable category.
\end{example}

We will see that $\text{Sh}(C)$ is also a presentable category with respect to any site.

\subsection{Reflective Localization}


\begin{definition}
    Let $C,D$ be two $(\infty,1)$-categories, $F:C\to D$, we say that $F$ is a reflective localization functor if:

    1. $F$ is a localization functor;

    2. $F$ admits a fully faithful right adjoint.

    We also say that $D$ is a reflective localization of $C$ if such $F$ exists.
\end{definition}

\begin{definition}
    Let $D$ be an $(\infty,1)-$category, $C$ be the full subcategory of $D$ with the inclusion functor $i:C\hookrightarrow D$. If $i$ admits a left adjoint, then we call $C$ the reflective subcategory of $D$.
\end{definition}

\begin{proposition}
    Let $C$ be the reflective subcategory of $D$, then the inclusion functor $i$ admits a reflective localization as the left adjoint.
\end{proposition}

\begin{proposition}
  Let $C$ be a complete, cocomplete $(\infty,1)$-category, $D$ be the reflective localization of $C$. Then $D$ is also complete and cocomplete.
\end{proposition}

\begin{proposition}
    Let $C$ be a presentbale $(\infty,1)$-category, $D$ be the reflective localization of $C$ via an accessible reflective localization functor $F:C\to D$. Then $D$ is also presentbale.
\end{proposition}


\begin{lemma}
    The sheaficiation functor is an accessible reflective localization functor.
\end{lemma}

\begin{example}
    Let $S$ be a site defeined over an $(\infty,1)$-category $C$, then the $(\infty,1)$-topos $\text{Sh}(C)$ is a presentable, cocomplete, complete category. 
\end{example}






\section{Stable $\infty$-categories}\label{stable}
 
\subsection{Stabilization}


\begin{definition}
    Let $C$ be an $(\infty,1)$-category, we say $C$ is a pointed category if $\exists $ zero object $0\in C$.
\end{definition}

\begin{theorem}
    Let $C$ be an $(\infty,1)$-category with a terminal object $*$, then the coslice category $C_{*/}$ is a pointed category. This process induces a functor which we denote as $()_+$.
\end{theorem}

\begin{definition}
    Let $C$ be a pointed $(\infty,1)$-category that admits finite colimits, $X,Y\in C,f: X\to Y$, then we define the cofiber $\text{cof}(f):=0 \sqcup_X Y$;
    
    If $C$ admits finite limits, we can define the fiber $\text{fib}(f):= 0\times_Y X$.
\end{definition}

\begin{definition}
    Let $C$ be a pointed $(\infty,1)$-category, a triangle is a diagram:

    \[
\begin{tikzcd}
X \ar[r,"f"] \ar[d] & Y \ar[d,"g"] \\
0 \ar[r] & Z
\end{tikzcd}
\]

We say the triangle is a fiber sequence if it is a pullback square, and a cofiber sequence if it is a pushout square.


\end{definition}

\begin{definition}
    Let $C$ be a pointed $(\infty,1)$-category, we say $C$ is stable if:

    1. $\forall f \in Mor(C)$, $f$ admits a fiber and a cofiber;

    2. A triangle is a fiber sequence if and only if it is a cofiber sequence.
\end{definition}



\begin{definition}
   Let $C$ be a pointed $(\infty,1)$-category that admits finite colimits, we can define the suspension functor $\Sigma:C\to C$ which maps

   $X\mapsto 0\sqcup_X0$;

   Let $C$ be a pointed $(\infty,1)$-category that admits finite limits, we can define the suspension functor $\Omega:C\to C$ which maps

   $X\mapsto 0\times_X0$.
\end{definition}

\begin{definition}
    $\operatorname{Pr}^{\mathrm{L}}$ is defined as the subcategory of $\text{Cat}_\infty$ whose objects are objects of $\text{Cat}_\infty$ while the morphisms are left adjoints;

    In duality, $\operatorname{Pr}^{\mathrm{R}}$ is defined as the subcategory of $\text{Cat}_\infty$ whose objects are objects of $\text{Cat}_\infty$ while the morphisms are right adjoints.
\end{definition}

\begin{proposition}\label{duality}
  Let $C$ be a pointed presentable $(\infty,1)$-category, then the $\operatorname{colim}[C \xrightarrow{\Sigma} C \xrightarrow{\Sigma} \cdots] \in \operatorname{Pr}^{\mathrm{L}}$ corresponds to $\operatorname{lim}[C \xleftarrow{\Omega} C \xleftarrow{\Omega} \cdots] \in \operatorname{Pr}^{\mathrm{R}}$ via $(\operatorname{Pr}^{\mathrm{L}})^{op}\simeq\operatorname{Pr}^{\mathrm{R}}$.

  We will denote the functor from $C$ to $\operatorname{Pr}^{\mathrm{L}}$ as $\operatorname{Sptr}$.
\end{proposition}

\begin{proposition}
    There is an adjunction pair:  $\Sigma: \mathrm{C} \rightleftarrows \mathrm{C}: \Omega$.
\end{proposition}

\begin{definition}
    We define $\Sigma^{\infty}$ to be the functor induced pointwise by stabiliztion $C\mapsto\operatorname{colim}[C \xrightarrow{\Sigma} C \xrightarrow{\Sigma} \cdots] $, while the $\Sigma^{\infty-k}$ denotes the composition of functor $\Sigma^\infty$ with the $\Sigma^{\infty}(\Sigma)$(Considering $\Sigma^\infty$ as the functor in $\text{Cat}_\infty$, the $\Omega^{\infty-k}$ denotes taking the $(k+1)$-th term of a spectrum.
\end{definition}


\begin{proposition}
    There is an adjunction pair:  $\Sigma^{\infty-k}: \mathrm{C} \rightleftarrows \text{Sptr}({C}): \Omega^{\infty-k}$.
\end{proposition}

\begin{proposition}
    Let $C$ be a pointed $(\infty,1)$-category that admits finite limits and colimits, then the following are equivalent:

    1. $C$ is stable
    
    2. The adjunction pair $\Sigma: \mathrm{C} \rightleftarrows \mathrm{C}: \Omega$ are equivalences.
    
    3. A square in $C$ is a pushout square if and only if it is a pullback square.
\end{proposition}

\subsection{$\infty-$Operads and Monoids}\label{monoidal}

\begin{definition}
      We denote the pointed finite set category as $\text{Fin}_*$. We denote $[n]\coprod \{*\}$ as $\langle n\rangle$.
\end{definition}

\begin{definition}
    Let $I\to J$ be a morphism in $\text{Fin}_*, \alpha:I\to J$. We say $\alpha$ is inert if $\forall j \in J\textbackslash \{*\}, \alpha^{-1}(j)$ is a singleton; We say $\alpha$ is active if $\alpha^{-1}(\{*\})=\{*\}$.
\end{definition}

\begin{definition}
    An $\infty-$operad $\mathcal{O}$ is a pair $(\mathcal{O}^\otimes,p)$ where $\mathcal{O}^\otimes$ is an $(\infty,1)-$category  and $p$ is a functor $\mathcal{O}^\otimes \to \text{Fin}_*$ such that(We denote $p^{-1}(\langle n\rangle)$ as $\mathcal{O}^\otimes_{\langle n\rangle}$):


    1. Any inert morphism $f: \langle m\rangle \to \langle n\rangle $ can be lifted to a $p$-coCartesian morphism $\tilde{f}$. In particular, the lifting induces the $(\infty,1)-$functor $f_!:\mathcal{O}^\otimes_{\langle m \rangle}\to \mathcal{O}^\otimes_{\langle n \rangle}$;

    2. The $(\infty,1)$-functor $\text{Maps}_f^\otimes(C_1,C_2)\to \prod_{1\leq i \leq n} \text{Maps}_{\rho^i\circ f}(C_1,C_3^i)$ induced by morphism $f: \langle m\rangle \to \langle n\rangle $ is an equivalence, where $\rho^i:\langle n \rangle \to \langle 1\rangle$ denotes the morphism which maps everthing but $i$ to $*$;

    3.For any $C_1,C_2,..., C_n\in \mathcal{O}^\otimes_{\langle 1 \rangle}$, there exists $C \in \mathcal{O}^\otimes_{\langle n \rangle}$ such that there exists a collection of the $p-$CoCartesian lifting from $C$ to $C_i$ of $\rho^i$.
\end{definition}


\begin{remark}
    In fact $\text{Fin}_*$ is an $\infty$-operad which we denote as $\text{Comm}^\otimes$.
\end{remark}

\begin{example}
    $(\text{Fin}_*,\textsf{Id})$ iteself is an $\infty-$operad. We denote it as $\text{Comm}^\otimes$ or $\mathbb{E}_\infty$.
\end{example}

\begin{example}
    Let $\text{Assoc}^\otimes$ denotes the subcategory of $\text{Fin}_*$ whose objects are those of $\text{Fin}_*$ but the morphisms are generated by those$f:\langle m \rangle \to \langle n \rangle$  such that for each $j\in \langle n \rangle \textbackslash \{*\},\alpha|_{\alpha^{-1}(j)}$ preserves ordering. 

    We also denote $(\text{Assoc}^\otimes,i)$ as $\mathbb{E}_1$.
\end{example}

\begin{definition}
    Let $(\mathcal{O}^\otimes,p)$ be an $\infty-$operad, we call a pair $(C^\otimes,p')$ where $C^\otimes$ is an $(\infty,1)-$category and $p'$ is a coCartesian fibration is an $\mathcal{O}-$monoidal $\infty-$category if the composite $p'\circ p$ exhibits $C^\otimes$ as an $\infty$-operad.
\end{definition}

\begin{remark}
    We will call the $\text{Comm}^\otimes$-monoidal categories as symmetric monoidal categories; We will call the $\text{Assoc}^\otimes-$monoidal categories as monoidal categories.
\end{remark}



\section{Six functor theories}

Six funtor theories, or six operations is a formalization of some normal operations in algebraic topology. It was Grothendieck who first introduced the theory, to explain $\acute{e}tale$ cohomology.

The contents of this section come from \textcite{ScholzeSF} and \textcite{HeyerMann2024}.

\begin{definition}(Naive)
    A six functor theory contains the following data:

(1) An $\infty$-category $C$ which admits finite limits.

(2) A class of morphisms $E$ contains all isomorphisms, and is stable under pullback and composition.

(3) An association $X \mapsto D(X)$ from $C$ to $\infty$- categories $D(X)$.

(4) A symmetric monoidal closed structure on $D(X)$, where the tensor functor and the internal hom functor are denoted as $\otimes$ and $\mathcal{H}om$.

(5) For each $f: X \rightarrow Y$, a pullback functor $f^*: D(Y) \rightarrow D(X)$ and a pushforward functor $f_*: D(X) \rightarrow D(Y)$.

(6) For each $f: X \rightarrow Y$ in $E$, a proper pullback functor $f^{!}: D(Y) \rightarrow D(X)$ and  a proper pullback functor $f^{!}: D(Y) \rightarrow D(X)$ .

which satisfies the following compatible conditions:



$f^*: D(Y) \rightarrow D(X) \quad \dashv \quad f_*: D(X) \rightarrow D(Y)$;

$f_{!}: D(X) \rightarrow D(Y) \quad \dashv \quad f^!: D(Y) \rightarrow D(X)$;

For a pullback diagram \[
\begin{tikzcd}
Y' \ar[r,"g'"] \ar[d,"f'"'] & Y \ar[d,"f"] \\
X' \ar[r,"g"] & X
\end{tikzcd}
\] 

there exists isormorphism of functors: $g^* f_{!} \simeq f_{!}^{\prime} g^{\prime *}$;

Let $f:Y\to X\in E, M\in D(X),N\in D(Y)$, then we have $M \otimes f_{!} N \simeq f_{!}\left(f^* M \otimes N\right)$.

$f^*$ and $f_!$ are compatible with composition.

\begin{definition}
    Let $(C,E)$ be a six functor theory, we can define the cohomology $\Gamma(X,\Lambda)=p_* 1$ for $X\in C$, whre $p:X \to *$, $1$ is the unit in $D(X)$.

    For $p \in E$, we can define the cohomology with compact support $\Gamma_c(X,\Lambda)=p_!1$.

    We define $\omega_X:=p^!1$, where $1$ is the unit of $D(*)$.
\end{definition}

\begin{proposition} (Küneth formula)

    Let $X,Y \in C$, then we have:

$    \Gamma_c(X \times Y, \Lambda) \simeq \Gamma_c(X, \Lambda) \otimes \Gamma_c(Y, \Lambda) .$
    
\end{proposition}

\begin{proposition}(Poincaré duality)

 $p_*\omega_X\simeq \mathcal{H}om(\Gamma_c(X,\Lambda),\Lambda)$.
    
\end{proposition}

\end{definition}